Product Requirements Document (PRD)

Product Name

Company Design System – Web Components Library

Purpose & Vision

Create a framework-agnostic design system implemented as Web Components using Stencil, fully aligned with the company’s official style guide. The output will be a reusable, versioned component library that can be consumed consistently by React, Vue, Angular, and vanilla JavaScript applications, ensuring visual, behavioral, and accessibility consistency across all products.

This PRD is intended to be consumed by an AI coding agent (Claude Code) and must result in a production-ready repository.

⸻

Inputs Provided to the Agent
	1.	Style Guide URL (authoritative source of truth)
	•	Colors
	•	Typography
	•	Spacing
	•	Iconography
	•	Motion
	•	Brand rules
	2.	Optional (if present in style guide):
	•	Figma links
	•	Design token exports
	•	Accessibility requirements

⸻

Non-Goals
	•	No framework-specific components (no React/Vue code in the core library)
	•	No application-specific business logic
	•	No visual redesign or deviation from the style guide

⸻

Target Consumers
	•	Frontend engineers using React, Vue, Angular, or vanilla JS
	•	Design system maintainers
	•	Internal product teams

⸻

Architecture Overview

Core Technology
	•	Stencil for Web Component authoring
	•	TypeScript
	•	Shadow DOM enabled by default
	•	CSS Custom Properties (variables) for theming

Package Outputs
	•	@company/design-system (Web Components)
	•	Auto-generated typings (components.d.ts)
	•	Framework bindings generated by Stencil (React, Angular, Vue)

⸻

Design Token Strategy

Source of Truth
	•	Tokens must be derived directly from the style guide
	•	If tokens are explicitly defined, use them verbatim
	•	If not, infer tokens from documented styles

Token Categories
	•	Color (semantic + primitive)
	•	Typography (font families, sizes, weights, line heights)
	•	Spacing & layout
	•	Border radius
	•	Elevation / shadows
	•	Motion (duration, easing)

Implementation
	•	Tokens exposed as CSS custom properties on :host and :root
	•	Naming convention:

--color-primary
--color-primary-hover
--font-body
--space-md



⸻

Theming Requirements
	•	Support at least:
	•	Default (light)
	•	Dark (if style guide supports it)
	•	Themes implemented via:
	•	CSS variable overrides
	•	Attribute-based switching (<ds-theme theme="dark"> or data-theme="dark")
	•	No JavaScript-based theming logic

⸻

Component Scope (Initial Release)

Foundational Components
	•	Button
	•	Link
	•	Icon
	•	Spinner / Loader
	•	Badge

Form Components
	•	Input
	•	Textarea
	•	Select
	•	Checkbox
	•	Radio
	•	Toggle / Switch
	•	Form Field Wrapper (label, hint, error)

Layout & Structure
	•	Card
	•	Divider
	•	Grid / Stack
	•	Container

Feedback
	•	Alert
	•	Toast
	•	Tooltip
	•	Modal / Dialog

All components must strictly match the style guide’s visual and interaction rules.

⸻

Component Design Requirements

For every component, the agent must implement:

API Design
	•	Typed props
	•	Boolean attributes
	•	Slot-based content where appropriate

States
	•	Default
	•	Hover
	•	Active
	•	Focus-visible
	•	Disabled
	•	Error (if applicable)

Accessibility (Mandatory)
	•	WCAG 2.1 AA compliance
	•	Proper ARIA roles
	•	Keyboard navigation
	•	Focus management
	•	Screen reader labels

Styling Rules
	•	No inline styles
	•	No framework-specific CSS
	•	All colors/spacing/fonts sourced from tokens

⸻

Web Component Standards
	•	Use Shadow DOM
	•	Expose styling hooks via CSS variables only
	•	Emit standard DOM events (no framework abstractions)

Example:

this.el.dispatchEvent(new CustomEvent('dsClick', { bubbles: true }))


⸻

Documentation & Demo Requirements

Storybook
	•	Storybook configured for Web Components
	•	Stories for:
	•	All variants
	•	All states
	•	Accessibility checks

Docs Per Component
	•	Usage examples
	•	Props table
	•	Slots
	•	Events
	•	Accessibility notes

⸻

Repo Structure

/design-system
  /src
    /components
      /button
      /input
      /modal
    /tokens
    /themes
    global
  /storybook
  stencil.config.ts
  package.json


⸻

Build & Distribution
	•	Output ESM + loader
	•	Tree-shakable
	•	Versioned with semver
	•	Publishable to private or public npm registry

⸻

Quality Gates
	•	Linting enabled
	•	TypeScript strict mode
	•	Accessibility checks passing
	•	Visual parity with style guide

⸻

Acceptance Criteria

The design system is complete when:
	•	Components visually match the style guide
	•	Components work in React, Vue, Angular, and vanilla JS
	•	Themes can be switched without rebuilds
	•	No framework-specific dependencies exist
	•	Accessibility audits pass

⸻

Instructions to Claude Code
	1.	Crawl and extract all relevant design rules from the provided style guide URL
	2.	Derive design tokens and document assumptions
	3.	Scaffold a Stencil project
	4.	Implement tokens, themes, and components incrementally
	5.	Generate Storybook documentation
	6.	Output a production-ready repository

⸻

Future Enhancements (Out of Scope)
	•	Mobile-native bindings
	•	Figma token sync automation
	•	Visual regression CI
	•	Component usage analytics
